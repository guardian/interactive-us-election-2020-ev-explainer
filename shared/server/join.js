// FILE I USED TO JOIN HELENA'S CSV WITH GENERATED LAT/LNGS
import { round } from 'shared/js/util'
import fs from 'fs'

const table = `
California	39512223	55
Texas	28995881	38
Florida	21477737	29
New York	19453561	29
Pennsylvania	12801989	20
Illinois	12671821	20
Ohio	11689100	18
Georgia	10617423	16
North Carolina	10488084	15
Michigan	9986857	16
New Jersey	8882190	14
Virginia	8535519	13
Washington	7614893	12
Arizona	7278717	11
Massachusetts	6892503	11
Tennessee	6829174	11
Indiana	6732219	11
Missouri	6137428	10
Maryland	6045680	10
Wisconsin	5822434	10
Colorado	5758736	9
Minnesota	5639632	10
South Carolina	5148714	9
Alabama	4903185	9
Louisiana	4648794	8
Kentucky	4467673	8
Oregon	4217737	7
Oklahoma	3956971	7
Connecticut	3565287	7
Utah	3205958	6
Iowa	3155070	6
Nevada	3080156	6
Arkansas	3017804	6
Mississippi	2976149	6
Kansas	2913314	6
New Mexico	2096829	5
Nebraska	1934408	5
West Virginia	1792147	5
Idaho	1787065	4
Hawaii	1415872	4
New Hampshire	1359711	4
Maine	1344212	4
Montana	1068778	3
Rhode Island	1059361	4
Delaware	973764	3
South Dakota	884659	3
North Dakota	762062	3
Alaska	731545	3
District of Columbia	705749	3
Vermont	623989	3
Wyoming	578759	3`
    .split('\n')
    .map( row => row.split('\t') )
    .filter( row => row[0] !== '' )

const positions = {"Arizona":{"x":174.7453866861602,"y":346.77102654943377},"Louisiana":{"x":507.6479787125909,"y":436.9089880094978},"Idaho":{"x":166.23861958876822,"y":130.4546845667926},"Minnesota":{"x":465.2580288480441,"y":117.01283568004685},"North Dakota":{"x":377.5691945489265,"y":91.4764782167998},"South Dakota":{"x":378.17633564384636,"y":154.04134771927184},"New York":{"x":748.9938443618943,"y":153.5759236419562},"Alaska":{"x":77.76508885061972,"y":471.06417773249206},"Georgia":{"x":659.1757745329135,"y":388.60536782303643},"Indiana":{"x":594.3596299996294,"y":242.8526689624012},"Michigan":{"x":612.1811692870034,"y":163.242635041604},"Mississippi":{"x":550.9730080941579,"y":397.37311953736685},"Ohio":{"x":644.9958428940632,"y":230.00843721099625},"Texas":{"x":382.14680317951166,"y":426.45971762030734},"Nebraska":{"x":382.1462847980116,"y":215.0785537679766},"Colorado":{"x":288.07951894398354,"y":261.9007141915028},"Maryland":{"x":761.9107166109724,"y":261.7367296064412},"Kansas":{"x":402.4468638351227,"y":279.68317958127517},"Illinois":{"x":548.181242006447,"y":243.77658937540113},"Wisconsin":{"x":529.5452894821273,"y":148.8265239124149},"California":{"x":50.20187400009049,"y":261.3044120061035},"Iowa":{"x":479.2360749880948,"y":204.46262159661836},"Pennsylvania":{"x":723.1749567917087,"y":202.945214338428},"Montana":{"x":247.1442767528783,"y":87.40102059686846},"Missouri":{"x":498.07156564473854,"y":281.9660064152509},"Florida":{"x":703.1209396150912,"y":474.40072685084243},"Kentucky":{"x":624.3387314552734,"y":288.46570115330616},"Maine":{"x":827.1132350837372,"y":81.81075417255839},"Utah":{"x":191.91565961484278,"y":242.52674683992396},"Oklahoma":{"x":415.77969974585926,"y":340.99460315662435},"Tennessee":{"x":595.8784240612741,"y":328.3441824035621},"Oregon":{"x":78.04582566147347,"y":118.94867508665627},"West Virginia":{"x":681.3290701864581,"y":263.0868215221706},"Arkansas":{"x":501.03299555392044,"y":354.6337574387901},"Washington":{"x":97.83628275594823,"y":49.95624856360263},"North Carolina":{"x":718.7972522036592,"y":317.55415836233635},"Virginia":{"x":724.230071847843,"y":273.262427143191},"Wyoming":{"x":266.3424433142916,"y":175.09782460730517},"Alabama":{"x":600.109913088767,"y":392.4735968698539},"South Carolina":{"x":698.8744087043056,"y":355.9513906615564},"New Mexico":{"x":268.8446834696113,"y":356.80397251072066},"New Hampshire":{"x":805.8873907730659,"y":126.57523144041394},"Vermont":{"x":783.1375178064247,"y":112.74235723342913},"Nevada":{"x":114.30361395873702,"y":227.02870300810375},"Hawaii":{"x":245.52831759437504,"y":506.70780305812127},"Massachusetts":{"x":832.33098815587,"y":144.25264057705763},"Rhode Island":{"x":822.9680939746644,"y":174.04274209068973},"New Jersey":{"x":782.341742331805,"y":206.13300247973655},"Delaware":{"x":776.8099573981312,"y":237.37731140318712},"Connecticut":{"x":794.6834231106291,"y":169.66933692572292},"District of Columbia":{"x":742.4106731239544,"y":239.20545747054314}}

console.log("HI")

const out = table.map( row => {

    const name = row[0]

    console.log(name)

    return {
        name : name,
        pop : Number(row[1]),
        ev : Number(row[2]),
        x : round(positions[name].x, 1),
        y : round(positions[name].y, 1)
    }

} )

console.log(out)

fs.writeFileSync('shared/server/data_joined.json', JSON.stringify(out, null, 2))